

  <app-create-edit-vehicle
    *ngIf="showUpdatePane"
    [vehicle]="vehicle"
    [uploadImgProgress]="uploadImgProgress"
    [fileToUpload]="fileToUpload"
    [uploadImgMessage]="uploadImgMessage"
    (fileInputHandler)="handleFileInput($event)"
    (saveHandler)="save($event)"
    (hidePanelHandler)="cancel()"

    >
  </app-create-edit-vehicle>


<!-- d-flex justify-content-between -->
  <div class="" >

    <div class="container">

      <div class="row">

        <div  *ngIf="isAuthenticated && getToken()" class="col-sm-2 col-md-2">
          <input type="button" value="create car" class="btn btn-primary" (click)="createCar()">
        </div>

        <custom-pagination
        *ngIf="paginationOptions"
          class="col-sm-4"
          [paginationOptions]="paginationOptions"
          [requestParams]="requestParams"
          [availablePageSizes]="availablePageSizes"
          (handleClickPreviousRequest)="handleClickPrevious()"
          (handleClickNextRequest)="handleClickNext()"
          (onChangePageSizeRequest)="onChangePageSize($event)"
        >
        </custom-pagination>

        <div class="col d-flex justify-content-end">

          <div>
            <label *ngFor="let viewType of viewTypes">
              <div>
                <input class="btn-check" type="radio"
                  [id]="viewType.id" autocomplete="off"
                  [(ngModel)]="currentViewType"
                  [value]="viewType.viewTypeValue"
                  (click)="handleViewRadioChange($event)"
                  >
                <label [class]="viewType.class" [for]="viewType.id"></label>
              </div>
            </label>
          </div>


        </div>

      </div>

    </div>




    <!-- https://fontawesome.com/icons?d=gallery -->


    <div class=" mt-4 main-section  container">

      <div class="row">



        <div class="col-sm-4 col-md-4">

          <div class="row">
            <div class="col-sm-10 col-md-10  d-flex justify-content-between">
              <input type="text" name="searchText" [(ngModel)]="searchFilterOptions.searchText"
                class="form-control m-2" placeholder="search by text">

              <button (click)="findBtnHandleClick()" class=" m-2 btn btn-info">Find</button>
            </div>
          </div>
          <div class="row justify-content-evenly">
            <div class="col-md-6">
              <label for="min-price-inp">Min price</label>
              <input [(ngModel)]="searchFilterOptions.minPrice" type="number" class="form-control"
                name="min-price-inp" placeholder="Min price">
            </div>
            <div class="col-md-6">
              <label for="max-price-inp">Max Price</label>
              <input [(ngModel)]="searchFilterOptions.maxPrice" type="number" class="form-control"
              name="max-price-inp" placeholder="Max Price">
            </div>
          </div>

          <div class="row justify-content-evenly">
            <div class="col-md-6">
              <label for="min-engine-inp">Min engine volume</label>
              <input [(ngModel)]="searchFilterOptions.minEnginePower" type="number"
                class="form-control" name="min-engine-inp" placeholder="Min engine volume">
            </div>
            <div class="col-md-6">
              <label for="max-engine-inp">Max engine volume</label>
              <input [(ngModel)]="searchFilterOptions.maxEnginePower"  type="number"
                class="form-control" name="max-engine-inp" placeholder="Max engine volume">
            </div>
          </div>

          <div class="row d-flex justify-content-between">

            <div class="col-md-5 d-flex justify-content-center">
              <mat-form-field class="bg-light rounded my-2 " appearance="fill">
                <mat-label class="text-dark">Choose a min date</mat-label>
                <input [(ngModel)]="searchFilterOptions.MinDate"
                  name="min-search-date"
                  class="border-bottom validate-date"
                  matInput [matDatepicker]="pickerMinDate">

                <mat-datepicker-toggle
                   matSuffix [for]="pickerMinDate">
                  <mat-icon class="text-dark"
                  matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
                </mat-datepicker-toggle>
                <mat-datepicker #pickerMinDate></mat-datepicker>

              </mat-form-field>
            </div>

            <div class="col-md-5 d-flex justify-content-center">
              <mat-form-field class="bg-light rounded my-2" appearance="fill">
                <mat-label class="text-dark">Choose a max date</mat-label>
                <input [(ngModel)]="searchFilterOptions.MaxDate"   name="max-search-date"
                  class="border-bottom validate-date" matInput
                  [matDatepicker]="pickerMaxDate">

                <mat-datepicker-toggle matSuffix [for]="pickerMaxDate">
                  <mat-icon class="text-dark"
                  matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
                </mat-datepicker-toggle>
                <mat-datepicker #pickerMaxDate></mat-datepicker>

              </mat-form-field>
            </div>

          </div>


        </div>



        <div class="col-sm-8 col-md-8 "
          [ngSwitch]="currentViewType">

          <div class="row" *ngSwitchCase="'grid-view'">

            <app-vehicle-child
            class="col-sm-4 mt-2"
            *ngFor="let elem of vehicles"
            [token]="getToken()"
            [carDataService]="carService"

            [vehicle]="elem.dataResource"
            [userCanAccess]="isAuthenticated"


            (deleteRequest)="delete($event)"
            (editCarRequest)="editCar($event)"
          ></app-vehicle-child>

          </div>
          <div *ngSwitchCase="'list-view'">

            <app-vehicle-child-list
              class="col-sm-10 mt-2"
              *ngFor="let elem of vehicles"

              [token]="getToken()"

              [carDataService]="carService"
              [vehicle]="elem.dataResource"
              [userCanAccess]="isAuthenticated"



              (deleteRequest)="delete($event)"
              (editCarRequest)="editCar($event)"
            ></app-vehicle-child-list>

          </div>

        </div>
      </div>

    </div>



  </div>


